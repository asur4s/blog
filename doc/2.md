> 原文链接: https://fasterthanli.me/articles/a-half-hour-to-learn-rust
> 
> 翻译：[Asura](https://github.com/asur4s)
> 
> 选题：[Asura](https://github.com/asur4s)
>
> 本文由 [Rustt](https://Rustt.org) 翻译，[StudyRust](https://studyrust.org) 荣誉推出

# 半小时快速了解 Rust

通过大量的阅读代码，能增强我们对编程语言的熟练度。但如果你不知道代码的背后含义，大量阅读又怎能获得收益呢？

在这篇文章中，不是专注于 Rust 中的一两个概念，而是尽我所能的覆盖 Rust 代码片段，并解释关键字和符号的含义。

准备好了吗？Let's go！

`let` 表示变量绑定。
```rust
let x; // 声明 x 变量
x = 42; // 将 42 赋值给 x。Rust 编译器可以自动推导此处 x 的变量类型，所以这里可以不用声明类型。
```
上面的代码也能写成一行。
```rust
let x = 42;
```
还可以通过 `:` 来显式的声明变量类型
```rust
let x: i32; // i32 表示 32 位的有符号整数
x = 42;

// 有符号整型包括：i8, i16, i32, i64, i128
// 无符号整型包括：u8, u16, u32, u64, u128 
```

如果你申明了一个变量，却没有初始化，编译器将会阻止你在初始化前使用它。

```rust
let x;
foobar(x); // error: borrow of possibly-uninitialized variable: `x`
           // 错误：借用的 x 变量可能没有初始化。 
x = 42;
```

但是，如果写成下面这样就能正常运行了
```rust
let x;
x = 42;
foobar(x); // x 变量的类型将会在这里被推断出来。
```

下划线 `_` 是一种特殊的变量，可以用于丢弃变量值，还可以用于表示任意（在 match 部分会讲到）。
```rust
// 42 是一个常量，_ 不会被赋值。
let _ = 42;

// 这里表示丢弃 get_thing 函数的任何返回结果。
let _ = get_thing();
```

以下划线为开头的变量也是被允许的，它的作用的告诉编译器，该变量即使未被使用也不要警告。
```rust
let _x = 42;
```
同一个变量名可以被多次绑定，后面的绑定会覆盖前面的绑定。
```rust
let x = 13;
let x = x + 3;
// 第二次绑定后，使用 x 变量都是指向第二个 x 变量。
// 第一个 x 变量已经不存在了。
```

Rust 中有一种数据结构叫做元组，你可以把它认为是长度固定的、可以存储不同类型值的容器。

```rust
let pair = ('a', 17);
pair.0; // 用于表示 'a'
pair.1; // 用于表示 17
```
我们可以用下面的方式来标注一个元组的数据类型

```rust
let pair: (char, i32) = ('a', 17)
```

赋值语句可以将元组进行解构，也就是，把元组中的值拆分到不同的变量中。

```rust
let (some_char, some_int) = ('a', 17);
// some_char 被赋值为 'a'，some_int 被赋值为 17
```
当函数返回元组时，利用赋值语句来解构是非常方便的。
```rust
let (left, right) = slice.split_at(middle);
```
当然，在解构元组时，也可以使用下划线 `_` 来丢弃掉某些部分。
```rust
let (_, right) = slice.split_at(middle);
```
分号 `;` 标注一条语句的结束。
```rust
let x = 3;
let y = 5;
let z = y + x;
```
这意味着一条语句可以跨越多行。


文章后续会解释上述语句的含义。关键字 `fn` 可以用于声明一个函数，下面声明一个无返回值的函数：

声明一个返回值类型是 i32 的函数，箭头可以用于标注返回值类型：

一对大括号表示一个代码块，代码块有自己的作用域（后面简称“块”）。

块也是表达式，这意味着，块可以作为值来使用。

在块中，可以有多条语句。

函数的块也满足上述的特点，因此在函数末尾可以不使用 return。使用 return 和不使用 return 是等价的：

if 条件语句也是表达式：

match 语句也是表达式：

点操作符 `.` 可以用于访问元组的值：

或者调用某个变量的方法：

双分号 `::` 和点操作符 `.` 类似，不过双分号用于命名空间。在下面的例子中，`std` 是一个 crate（类似 Python 中库），`cmp` 是一个模块（类似 Python 中的一个源文件），`min` 是一个函数：

`use` 指令可以引入其他命名空间的符号（类似 Python 中的 `import`）

*use 指令可以和大括号一起使用*。例如，如果你想引入 `min` 和 `max` ，你可以使用下面这些方式：

使用通配符 `*` 可以引入该命名空间所有的符号。

数据类型也是命名空间，方法可以作为常规函数使用。

`str` 是一种基本类型，除此之外，还有许多非基础类型也被引入到作用域中。

这是因为 Rust 在所有模块的开头都插入了下面这行语句：

（上面的语句引入了大量符号，例如 `Vec`、`String`、`Options` 和 `Result`）





300->1000